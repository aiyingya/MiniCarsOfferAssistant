<import src="../../components/supplier/index.wxml" />
<import src="../../components/common/empty/emptyStatusView.wxml" />

<import src="../../components/toast/toast.wxml" />
<template is="toast" data="{{ ...$wux.toast }}" />

<import src="../../components/dialog/carSourceDetail/carSourceDetail.wxml" />
<template is="carSourceDetailDialog" data="{{ ...$wux.carSourceDetailDialog }}" />

<import src="../../components/common/filter/filterBarView.wxml" />
<import src="../../components/common/description/branchView.wxml" />


<!-- 主页面 -->
<view class="container supplier-detail">
  <!-- 搜索车型.-->
  <view class="header">
    <template is="supplierSearchResultView" data="{{ index: 0, item: company }}" />
  </view>
  <view class="body">
    <view class="branch-section">
      <template is="branchView" data="{{ mainBrands:company.mainBrand, mainSeries:company.mainSeries }}" />
    </view>
    <view class="filter-section">
      <template is="filterBarView" data="{{ filters, filtersSelectedIndexes }}" />
    </view>
    <scroll-view scroll-y="true" class="rows" style="height: {{scrollViewHeight}}px;" bindscrolltolower="onScrollToLower">
      <block wx:if="{{ comments && comments.length }}">
        <view class="row" wx:for="{{ comments }}" wx:key="commentId">
          <template is="commentView" data="{{ item }}" />
        </view>
      </block>
      <block wx:else>
        <template is="emptyStatusView" data="{{ ...emptyStatus }}" />
      </block>
    </scroll-view>
  </view>
  <view class="footer">
    <template is="commentBoardView" data="{{ submitTags, submitTextareaValue, submitSelectedTagIndex, submitButtonValid, submitButtonTagValid }}"
    />
  </view>
</view>
