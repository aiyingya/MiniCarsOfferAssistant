<template name="carModel">
	<view
		class="carModels-cell"
		hover="true"
		hover-class="carModels-cell_active"
		>
		<!-- title.-->
		<view 
		  class="carModels-message"
		  data-carmodelsinfo="{{item}}"
		  bindtap="handlerToCarSources"
		  >
			<view class="carModels-message-title">
				【{{item.officialPriceStr}}】 {{item.carModelName}}
			</view>
		</view>

		<view
			class="carModels-inner"
			wx:if="{{item.supply.supplierCount > 0}}"
			>
			<!-- cars info.-->
			<view class="carModels-info">
<!--
				<view class="carModels-supplier">{{item.supply.supplierCount}}个人供货</view>
				<block wx:if="{{item.supply.status === '供货紧张'}}">
					<view class="carModels-repertory">{{item.supply.status}}</view>
				</block>
				<block wx:else>
					<view class="carModels-repertory adequate">{{item.supply.status}}</view>
				</block>
-->
        <view 
          class="carModels-charts-time"
          bindtap="handleSelectTime"
          data-selecttimesid="{{item.carModelId}}"
          >
          <view class="carcolor-label label">时间：</view>
          <view class="chartstime-inner">
            <block wx:if="{{item.selectTimes == '全部'}}">
              {{item.selectTimes}}
            </block>
            <block wx:else>
              {{item.selectTimes}}小时
            </block>
            <image 
						  src="../../images/icons/icon_dropdownarrow_down_gray.png"
						  class="icon-arrows"></image>
          </view>
        </view>
				<view
					class="carModels-carcolor"
					wx:if="{{item.colors.length > 0}}"
					bindtap="handleSelectColor"
					data-colors="{{item.colors}}"
					data-selectColors="{{item.selectColors}}"
					data-selectcolorsid="{{item.carModelId}}"
					>
					<view class="carcolor-label label">外饰：</view>
					<view class="carcolor-inner">
					  <block  wx:if="{{item.selectColors.length > 0 && item.selectColorsId == item.carModelId}}">
					    <view
                class="carcolor-item"
                wx:for="{{item.selectColors}}"
                wx:for-item="cell"
                wx:for-index="cellIndex"
                wx:key="*this"
                wx:if="{{cellIndex < 4}}"
                style="background:{{cell.value}}; {cell.style}"
                ></view>
					  </block>
              
						<view wx:else class="carcolor-all">全部</view>
						<image 
						  src="../../images/icons/icon_dropdownarrow_down_gray.png"
						  class="icon-arrows"></image>
					</view>
				</view>
			</view>

			<view
				class="charts-inner"
				wx:if="{{item.supply.chart}}"
				>
				<block wx:if="{{showCharts}}">
					<view class="charts-tagMessage">
						<view class="charts-supply-number">
							报价数量(条)
						</view>
	<!--
						<view class="charts-tagMessage-inner">
							<view class="tagname">{{item.supply.chart.tagName}}</view>
							<view class="tagvalue">{{item.supply.chart.tagValue}}</view>
						</view>
	-->
					</view>
					<canvas
						canvas-id="{{item.carModelId}}"
						data-id="{{item.carModelId}}"
						class="canvas"
						bindtouchstart="handleCharttouch"
						></canvas>
				</block>
			</view>
		</view>

		<!-- 暂无供货.-->
		<view wx:else class="carModels-nodata">
			暂无供货
		</view>
	</view>
</template>

<template name="popupCharts">
  <view
    class="popup-charts-wrap"
    wx:if="{{showPopCharts}}"
    >
    <view class="popup-shade" bindtap="handleClosePopup"></view>
    <view class="popup-charts-main">
      <view class="popup-charts-hd">
        <view>报价区间详情</view>
        <view 
         class="close-popup"
         bindtap="handleClosePopup"
         >
          <image src="../../images/icons/icon_close.png"></image>
        </view>
      </view>
      <view class="popup-charts-bd">
        <view class="popup-charts-scale">
          报价数量(条)
        </view>
        <canvas
          canvas-id="popCharts"
          data-id="popCharts"
          class="pop-canvas"
          ></canvas>
      </view>
    </view>
  </view>
</template>